with import <nixpkgs> {};

python3.pkgs.buildPythonApplication rec{
  pname = "Comictagger";
  version = "1.5.5";
  format = "setuptools";

  src = fetchFromGitHub {
    owner = "comictagger";
    repo = "comictagger";
    rev = "e5f6a7d1d636eccf68538283aac898f82fed082d";
    sha256 = "1az22dwz8ifb3ql7zhi9x2b4qzdr01mmi6c1l2y0rk80mvmpwvnh";
  };

  inherit python3;

  settngs = callPackage ./settngs.nix {};
  worldninja = callPackage ./worldninja.nix {};

 propagatedBuildInputs = [  python3.pkgs.setuptools
                             python3.pkgs.pycountry

                            text2digits = callPackage ./text2digits.nix {};

                            settngs =  callPackage ./settngs.nix {};
                            
                           worldninja = callPackage ./worldninja.nix {};

                         ];

 nativeBuildInputs = [  python3.pkgs.setuptools
                        python3.pkgs.pycountry
                        text2digits = callPackage ./text2digits.nix {};
                        settngs =  callPackage ./settngs.nix {};
                        worldninja = callPackage ./worldninja.nix {};
                     ];





 doCheck= false;
  meta = with lib; {
    description = "ComicTagger is a multi-platform app for writing metadata to digital comics, written in Python and PyQt.";
    homepage = "https://github.com/comictagger/comictagger";
    maintainers = [ maintainers.comictagger ];
    license = licenses.asl20;
    platforms = platforms.linux;
  };
}


